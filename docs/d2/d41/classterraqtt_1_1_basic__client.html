<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>terraqtt: terraqtt::Basic_client&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">terraqtt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d2/d41/classterraqtt_1_1_basic__client.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../dd/db3/classterraqtt_1_1_basic__client-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">terraqtt::Basic_client&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A basic MQTT client.  
 <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/dfe/client_8hpp_source.html">client.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a21e05704c26de576cb6a5cf45b299780"><td class="memItemLeft" align="right" valign="top"><a id="a21e05704c26de576cb6a5cf45b299780"></a>
typedef String&#160;</td><td class="memItemRight" valign="bottom"><b>String_type</b></td></tr>
<tr class="separator:a21e05704c26de576cb6a5cf45b299780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196dda758ab98e64850c7eed5b856022"><td class="memItemLeft" align="right" valign="top"><a id="a196dda758ab98e64850c7eed5b856022"></a>
typedef Return_code_container&#160;</td><td class="memItemRight" valign="bottom"><b>Return_code_container_type</b></td></tr>
<tr class="separator:a196dda758ab98e64850c7eed5b856022"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a33d9f006b5552a8fc4afdf82c6a16386"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#a33d9f006b5552a8fc4afdf82c6a16386">Basic_client</a> (Input &amp;input, Output &amp;output) noexcept</td></tr>
<tr class="memdesc:a33d9f006b5552a8fc4afdf82c6a16386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#a33d9f006b5552a8fc4afdf82c6a16386">More...</a><br /></td></tr>
<tr class="separator:a33d9f006b5552a8fc4afdf82c6a16386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a565a52737c3d94932763bc90e703a78d"><td class="memItemLeft" align="right" valign="top"><a id="a565a52737c3d94932763bc90e703a78d"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#a565a52737c3d94932763bc90e703a78d">~Basic_client</a> () noexcept</td></tr>
<tr class="memdesc:a565a52737c3d94932763bc90e703a78d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Automatically disconnects from the server without waiting for the response. <br /></td></tr>
<tr class="separator:a565a52737c3d94932763bc90e703a78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ac298943327b9901ee10a136a1c855"><td class="memTemplParams" colspan="2">template&lt;typename Identifier &gt; </td></tr>
<tr class="memitem:a04ac298943327b9901ee10a136a1c855"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#a04ac298943327b9901ee10a136a1c855">connect</a> (std::error_code &amp;ec, const Identifier &amp;identifier, bool clean_session=true, Seconds keep_alive=Seconds{ 0 })</td></tr>
<tr class="memdesc:a04ac298943327b9901ee10a136a1c855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects to the MQTT broker.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#a04ac298943327b9901ee10a136a1c855">More...</a><br /></td></tr>
<tr class="separator:a04ac298943327b9901ee10a136a1c855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f8a15295c22483c698e29624c9719d"><td class="memItemLeft" align="right" valign="top"><a id="a05f8a15295c22483c698e29624c9719d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>disconnect</b> (std::error_code &amp;ec)</td></tr>
<tr class="separator:a05f8a15295c22483c698e29624c9719d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392cdf944b7b8f6613071a86b2eb0895"><td class="memTemplParams" colspan="2">template&lt;typename Topic , typename Payload &gt; </td></tr>
<tr class="memitem:a392cdf944b7b8f6613071a86b2eb0895"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#a392cdf944b7b8f6613071a86b2eb0895">publish</a> (std::error_code &amp;ec, const Topic &amp;topic, const Payload &amp;payload, std::uint16_t packet_id=0, QoS qos=QoS::at_most_once, bool retain=false)</td></tr>
<tr class="memdesc:a392cdf944b7b8f6613071a86b2eb0895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishes the payload to the topic.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#a392cdf944b7b8f6613071a86b2eb0895">More...</a><br /></td></tr>
<tr class="separator:a392cdf944b7b8f6613071a86b2eb0895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a150a5d7281f3abb0e86aab90009bbe"><td class="memTemplParams" colspan="2">template&lt;typename Topic &gt; </td></tr>
<tr class="memitem:a8a150a5d7281f3abb0e86aab90009bbe"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#a8a150a5d7281f3abb0e86aab90009bbe">subscribe</a> (std::error_code &amp;ec, std::initializer_list&lt; Topic &gt; topics, std::uint16_t packet_id)</td></tr>
<tr class="memdesc:a8a150a5d7281f3abb0e86aab90009bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes to one or more topics.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#a8a150a5d7281f3abb0e86aab90009bbe">More...</a><br /></td></tr>
<tr class="separator:a8a150a5d7281f3abb0e86aab90009bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee61b65fdb8a72552e921eb240da869f"><td class="memTemplParams" colspan="2">template&lt;typename Topic &gt; </td></tr>
<tr class="memitem:aee61b65fdb8a72552e921eb240da869f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#aee61b65fdb8a72552e921eb240da869f">unsubscribe</a> (std::error_code &amp;ec, std::initializer_list&lt; Topic &gt; topics, std::uint16_t packet_id)</td></tr>
<tr class="memdesc:aee61b65fdb8a72552e921eb240da869f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribes from one or more topics.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#aee61b65fdb8a72552e921eb240da869f">More...</a><br /></td></tr>
<tr class="separator:aee61b65fdb8a72552e921eb240da869f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f2c5b1a61466e77352fe32b116a91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#a44f2c5b1a61466e77352fe32b116a91a">ping</a> (std::error_code &amp;ec)</td></tr>
<tr class="memdesc:a44f2c5b1a61466e77352fe32b116a91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a ping request to broker.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#a44f2c5b1a61466e77352fe32b116a91a">More...</a><br /></td></tr>
<tr class="separator:a44f2c5b1a61466e77352fe32b116a91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add12b696fbe2f037f9b1d6f39aa06fb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#add12b696fbe2f037f9b1d6f39aa06fb6">update_state</a> (std::error_code &amp;ec)</td></tr>
<tr class="memdesc:add12b696fbe2f037f9b1d6f39aa06fb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the keep alive state.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#add12b696fbe2f037f9b1d6f39aa06fb6">More...</a><br /></td></tr>
<tr class="separator:add12b696fbe2f037f9b1d6f39aa06fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31c58ef5d18051c276bb2bbfde980e7"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#ae31c58ef5d18051c276bb2bbfde980e7">process_one</a> (std::error_code &amp;ec, std::size_t available=std::numeric_limits&lt; std::size_t &gt;::max())</td></tr>
<tr class="memdesc:ae31c58ef5d18051c276bb2bbfde980e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes up to <code>available</code> bytes.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#ae31c58ef5d18051c276bb2bbfde980e7">More...</a><br /></td></tr>
<tr class="separator:ae31c58ef5d18051c276bb2bbfde980e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eae560f7cd0cfca2d5515b8c161ced1"><td class="memItemLeft" align="right" valign="top"><a id="a7eae560f7cd0cfca2d5515b8c161ced1"></a>
Input *&#160;</td><td class="memItemRight" valign="bottom"><b>input</b> () noexcept</td></tr>
<tr class="separator:a7eae560f7cd0cfca2d5515b8c161ced1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d78636caed2140339ecc21bf90aa560"><td class="memItemLeft" align="right" valign="top"><a id="a8d78636caed2140339ecc21bf90aa560"></a>
Output *&#160;</td><td class="memItemRight" valign="bottom"><b>output</b> () noexcept</td></tr>
<tr class="separator:a8d78636caed2140339ecc21bf90aa560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0387c1d665799f4515a6fc0e84d77fbc"><td class="memItemLeft" align="right" valign="top"><a id="a0387c1d665799f4515a6fc0e84d77fbc"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_connack</b> (std::error_code &amp;ec, const <a class="el" href="../../d6/ddd/structterraqtt_1_1protocol_1_1_connack__header.html">protocol::Connack_header</a> &amp;header)</td></tr>
<tr class="separator:a0387c1d665799f4515a6fc0e84d77fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2026b89990d668eb4a3eaac03e4ead0f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html#a2026b89990d668eb4a3eaac03e4ead0f">on_publish</a> (std::error_code &amp;ec, const <a class="el" href="../../db/d51/structterraqtt_1_1protocol_1_1_publish__header.html">protocol::Publish_header</a>&lt; String_type &gt; &amp;header, std::istream &amp;payload, std::size_t payload_size)</td></tr>
<tr class="memdesc:a2026b89990d668eb4a3eaac03e4ead0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the broker published something to a subscribed topic.  <a href="../../d2/d41/classterraqtt_1_1_basic__client.html#a2026b89990d668eb4a3eaac03e4ead0f">More...</a><br /></td></tr>
<tr class="separator:a2026b89990d668eb4a3eaac03e4ead0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a688de307d8e1422173a1a16ecbe5351c"><td class="memItemLeft" align="right" valign="top"><a id="a688de307d8e1422173a1a16ecbe5351c"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_puback</b> (std::error_code &amp;ec, const <a class="el" href="../../dc/d65/structterraqtt_1_1protocol_1_1_puback__header.html">protocol::Puback_header</a> &amp;header)</td></tr>
<tr class="separator:a688de307d8e1422173a1a16ecbe5351c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d647ed51837cea3ac7c1dd65c869b0f"><td class="memItemLeft" align="right" valign="top"><a id="a6d647ed51837cea3ac7c1dd65c869b0f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_pubrec</b> (std::error_code &amp;ec, const <a class="el" href="../../de/d56/structterraqtt_1_1protocol_1_1_pubrec__header.html">protocol::Pubrec_header</a> &amp;header)</td></tr>
<tr class="separator:a6d647ed51837cea3ac7c1dd65c869b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed7736a935365fc04354286c9c50d7e4"><td class="memItemLeft" align="right" valign="top"><a id="aed7736a935365fc04354286c9c50d7e4"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_pubrel</b> (std::error_code &amp;ec, const <a class="el" href="../../de/d11/structterraqtt_1_1protocol_1_1pubrel__header.html">protocol::pubrel_header</a> &amp;header)</td></tr>
<tr class="separator:aed7736a935365fc04354286c9c50d7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5437bda30df1d89f53c597428d028d"><td class="memItemLeft" align="right" valign="top"><a id="a9e5437bda30df1d89f53c597428d028d"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_pubcomp</b> (std::error_code &amp;ec, const <a class="el" href="../../d7/da7/structterraqtt_1_1protocol_1_1_pubcomp__header.html">protocol::Pubcomp_header</a> &amp;header)</td></tr>
<tr class="separator:a9e5437bda30df1d89f53c597428d028d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae729da89d3a3dfe84923d6ec6afb846a"><td class="memItemLeft" align="right" valign="top"><a id="ae729da89d3a3dfe84923d6ec6afb846a"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_suback</b> (std::error_code &amp;ec, const <a class="el" href="../../d7/d13/structterraqtt_1_1protocol_1_1_suback__header.html">protocol::Suback_header</a>&lt; Return_code_container_type &gt; &amp;header)</td></tr>
<tr class="separator:ae729da89d3a3dfe84923d6ec6afb846a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa715f07689a7b44f344280605388bb6"><td class="memItemLeft" align="right" valign="top"><a id="aaa715f07689a7b44f344280605388bb6"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_unsuback</b> (std::error_code &amp;ec, const <a class="el" href="../../d2/d04/structterraqtt_1_1protocol_1_1_unsuback__header.html">protocol::Unsuback_header</a> &amp;header)</td></tr>
<tr class="separator:aaa715f07689a7b44f344280605388bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5202f1df8c285fd7e82d25af4fe376ad"><td class="memItemLeft" align="right" valign="top"><a id="a5202f1df8c285fd7e82d25af4fe376ad"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_pingresp</b> (std::error_code &amp;ec, const <a class="el" href="../../d9/d23/structterraqtt_1_1protocol_1_1_pingresp__header.html">protocol::Pingresp_header</a> &amp;header)</td></tr>
<tr class="separator:a5202f1df8c285fd7e82d25af4fe376ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Input, typename Output, typename String, typename Return_code_container, typename Mutex, typename Clock&gt;<br />
class terraqtt::Basic_client&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;</h3>

<p>A basic MQTT client. </p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>terraqtt;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="../../d2/d41/classterraqtt_1_1_basic__client.html">Basic_client&lt;std::istream, std::ostream, std::string, std::vector&lt;protocol::Suback_return_code&gt;</a>,</div>
<div class="line">                     std::mutex, std::chrono::steady_clock&gt; Easy_client;</div>
</div><!-- fragment --><p> This class only provides the means to communicate with the broker and does not actually follow the semantics of the protocol like keeping track of packet ids, acknowledging messages or quality of service.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d20/classterraqtt_1_1_null__mutex.html" title="No operation mutex without any logic. Useful when the client runs in a single thread environment.">Null_mutex</a>, <a class="el" href="../../dd/d37/classterraqtt_1_1_static__container.html" title="Basic container that stores its element inside its own memory.">Static_container</a>, <a class="el" href="../../db/dd3/classterraqtt_1_1_string__view.html" title="A simple string container holding a single const char* and its length.">String_view</a> </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Input</td><td>The input stream type. </td></tr>
    <tr><td class="paramname">Output</td><td>The output stream type. </td></tr>
    <tr><td class="paramname">String</td><td>In what container strings like topics should be stored. Must statisfy the <a href="https://en.cppreference.com/w/cpp/named_req/Container">Container</a> requirements. </td></tr>
    <tr><td class="paramname">Mutex</td><td>A mutex type used for synchronization. Must satisfy the <a href="https://en.cppreference.com/w/cpp/named_req/BasicLockable">BasicLockable</a> requirements. </td></tr>
    <tr><td class="paramname">Clock</td><td>The clock used for timing purposes like keep alive. Must statisfy the <a href="https://en.cppreference.com/w/cpp/named_req/Clock">Clock</a> requirements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d8/ddf/lightweight_8cpp-example.html#_a0">lightweight.cpp</a>.</dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a33d9f006b5552a8fc4afdf82c6a16386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33d9f006b5552a8fc4afdf82c6a16386">&#9670;&nbsp;</a></span>Basic_client()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::<a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">Basic_client</a> </td>
          <td>(</td>
          <td class="paramtype">Input &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Output &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input stream. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output</td><td>The output stream. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a04ac298943327b9901ee10a136a1c855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ac298943327b9901ee10a136a1c855">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<div class="memtemplate">
template&lt;typename Identifier &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::connect </td>
          <td>(</td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Identifier &amp;&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clean_session</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Seconds&#160;</td>
          <td class="paramname"><em>keep_alive</em> = <code>Seconds{&#160;0&#160;}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connects to the MQTT broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>the identifier of this client; must be present if <code>clean_session == false</code> </td></tr>
    <tr><td class="paramname">clean_session</td><td>whether the session should be reset after disconnecting </td></tr>
    <tr><td class="paramname">keep_alive</td><td>after what timeout the broker should think the client is offline; <code>0</code> means no timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000001">Todo:</a></b></dt><dd>add will and authentication </dd></dl>

</div>
</div>
<a id="a2026b89990d668eb4a3eaac03e4ead0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2026b89990d668eb4a3eaac03e4ead0f">&#9670;&nbsp;</a></span>on_publish()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::on_publish </td>
          <td>(</td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/d51/structterraqtt_1_1protocol_1_1_publish__header.html">protocol::Publish_header</a>&lt; String_type &gt; &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>payload_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the broker published something to a subscribed topic. </p>
<p>Quality of serivce is not handled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ec</td><td>error code if any </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">header</td><td>information about the received header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>a stream of the payload; if the data is not read when the function exits, the remaining data is discarded </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">payload_size</td><td>size of the payload in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a44f2c5b1a61466e77352fe32b116a91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f2c5b1a61466e77352fe32b116a91a">&#9670;&nbsp;</a></span>ping()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::ping </td>
          <td>(</td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a ping request to broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec[out]</td><td>the error code, if any </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae31c58ef5d18051c276bb2bbfde980e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31c58ef5d18051c276bb2bbfde980e7">&#9670;&nbsp;</a></span>process_one()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::process_one </td>
          <td>(</td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>available</em> = <code>std::numeric_limits&lt;std::size_t&gt;::max()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes up to <code>available</code> bytes. </p>
<p>Can be used in a non-blocking fashion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ec</td><td>the error code, if any </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">available</td><td>the amount of bytes available to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the amount of bytes processed </dd></dl>

</div>
</div>
<a id="a392cdf944b7b8f6613071a86b2eb0895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392cdf944b7b8f6613071a86b2eb0895">&#9670;&nbsp;</a></span>publish()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<div class="memtemplate">
template&lt;typename Topic , typename Payload &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::publish </td>
          <td>(</td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Topic &amp;&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Payload &amp;&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint16_t&#160;</td>
          <td class="paramname"><em>packet_id</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QoS&#160;</td>
          <td class="paramname"><em>qos</em> = <code>QoS::at_most_once</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>retain</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Publishes the payload to the topic. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Topic</td><td>the topic type; must meet the requriements of a <code>Container</code> </td></tr>
    <tr><td class="paramname">Paylaod</td><td>the payload; must meet the requirements of a <code>Container</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec[out]</td><td>the error code, if any </td></tr>
    <tr><td class="paramname">topic</td><td>the topic </td></tr>
    <tr><td class="paramname">payload</td><td>the payload </td></tr>
    <tr><td class="paramname">packet_id</td><td>the packet identifier; must be non <code>0</code> if <code>qos != qos::at_most_once</code> </td></tr>
    <tr><td class="paramname">qos</td><td>the QoS </td></tr>
    <tr><td class="paramname">retain</td><td>whether the payload should be stored on the broker </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8a150a5d7281f3abb0e86aab90009bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a150a5d7281f3abb0e86aab90009bbe">&#9670;&nbsp;</a></span>subscribe()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<div class="memtemplate">
template&lt;typename Topic &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::subscribe </td>
          <td>(</td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::initializer_list&lt; Topic &gt;&#160;</td>
          <td class="paramname"><em>topics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint16_t&#160;</td>
          <td class="paramname"><em>packet_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribes to one or more topics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec[out]</td><td>the error code, if any </td></tr>
    <tr><td class="paramname">topics</td><td>the topics </td></tr>
    <tr><td class="paramname">packet_id</td><td>the packet identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aee61b65fdb8a72552e921eb240da869f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee61b65fdb8a72552e921eb240da869f">&#9670;&nbsp;</a></span>unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<div class="memtemplate">
template&lt;typename Topic &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::unsubscribe </td>
          <td>(</td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::initializer_list&lt; Topic &gt;&#160;</td>
          <td class="paramname"><em>topics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint16_t&#160;</td>
          <td class="paramname"><em>packet_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unsubscribes from one or more topics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec[out]</td><td>the error code, if any </td></tr>
    <tr><td class="paramname">topics</td><td>the topics </td></tr>
    <tr><td class="paramname">packet_id</td><td>the packet identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add12b696fbe2f037f9b1d6f39aa06fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add12b696fbe2f037f9b1d6f39aa06fb6">&#9670;&nbsp;</a></span>update_state()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Input , typename Output , typename String , typename Return_code_container , typename Mutex , typename Clock &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a>&lt; Input, Output, String, Return_code_container, Mutex, Clock &gt;::update_state </td>
          <td>(</td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the keep alive state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec[out]</td><td>the error code, if any </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>terraqtt/<a class="el" href="../../d2/dfe/client_8hpp_source.html">client.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassterraqtt_1_1_basic__client_html"><div class="ttname"><a href="../../d2/d41/classterraqtt_1_1_basic__client.html">terraqtt::Basic_client</a></div><div class="ttdoc">A basic MQTT client.</div><div class="ttdef"><b>Definition:</b> client.hpp:49</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>terraqtt</b></li><li class="navelem"><a class="el" href="../../d2/d41/classterraqtt_1_1_basic__client.html">Basic_client</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
